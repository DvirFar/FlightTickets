<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake Steam</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/game.css">
    <script src="js/DB-API.js" defer></script>
    <script src="js/spa.js" defer></script>
    <script src="js/login.js" defer></script>
    <script src="js/game.js" defer></script>
</head>
<body>
        <template>
            <div class="content-container">
                <div class="login" id="login">
                    <form id="loginForm" method="get" autocomplete="on">
                        <input type="text" id="usernameL" name="username" placeholder="username" autocomplete="name" required>
                        <p class="not_valid" id="not_validL"></p>
                        <input type="password" id="passwordL" name="password" placeholder="password" autocomplete="current-password" required>
                        <input type="submit" value="Login">
                    </form>
                    <h3>Don't have an account? <span id="SwitchToSign">Sign-up</span> now!</h3>
                </div>
            </div>
            <script>
                document.getElementById('loginForm').addEventListener('submit', login);
                
                loginButton = document.body.querySelector('#SwitchToSign');
                function clickS() {
                    document.getElementById('loginForm').removeEventListener('submit', login);
                    loginButton.removeEventListener('click', clickS);
                    showContent(1); 
                }
                loginButton.addEventListener('click', clickS);
            </script>
        </template>

        <template>
            <div class="content-container">
                <div class="signup" id="signup">
                    <form id="signupForm" method="post" autocomplete="on">
                        <input type="text" id="usernameS" name="username" placeholder="username" autocomplete="name" required>
                        <p class="not_valid" id="not_valid_usernameS"></p>
                        <input type="email" id="emailS" name="email" placeholder="example@example.com" autocomplete="email" required>
                        <p class="not_valid" id="not_valid_emailS"></p>
                        <input type="password" id="passwordS" name="password" placeholder="password" autocomplete="current-password" required>
                        <p class="not_valid" id="not_valid_passwordS"></p>
                        <input type="submit" value="Sign-up">
                    </form>
                    <h3>Have an account? <span id="SwitchToLog">Log-in</span> now!</h3> 
                </div>
            </div>
            <script>
                document.getElementById('signupForm').addEventListener('submit', signup);

                signupButton = document.body.querySelector('#SwitchToLog');
                function clickL() {
                    document.getElementById('signupForm').removeEventListener('submit', signup);
                    signupButton.removeEventListener('click', clickL);
                    showContent(0); 
                }
                signupButton.addEventListener('click', clickL);
            </script>
        </template>

        <template>
            <div id="logout">Logout</div>
            <div id="game">
                <div id="game-area">
                    <div id="player"></div>
                    <div id="score">Score: 0</div>
                    <div id="obstacles"></div>
                </div>
                <div id="restart-game">Start Game</div>
            </div>
            <script>
                logoutButton = document.body.querySelector('#logout');
                function clickLogout() {
                    logoutButton.removeEventListener('click', clickLogout);
                    showContent(0);
                }
                logoutButton.addEventListener('click', clickLogout);
                startGame();
            </script>
        </template>
</body>
</html>