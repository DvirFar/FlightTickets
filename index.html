<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Tickets</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/flight-details.css">
    <!--<link rel="stylesheet" href="css/game.css">-->
    <script src="js/DB-API.js" defer></script>
    <script src="js/serverAuth.js" defer></script>
    <script src="js/network.js" defer></script>
    <script src="js/FAJAX.js" defer></script>
    <script src="js/login.js" defer></script>
    <script src="js/dashboard.js" defer></script>
    <script src="js/flight-details.js" defer></script>
    <script src="js/spa.js" defer></script>
    <!--<script src="js/game.js" defer></script>-->
</head>
<body>
    <template id="navbar-template">
        <div id="app-icon"></div>
        <div id="user-icon"></div>
    </template>

    <template id="login-template">
        <div class="content-container" id="login-container">
            <div class="login" id="login">
                <form id="loginForm" method="get" autocomplete="on">
                    <input type="text" id="usernameL" name="username" placeholder="username" autocomplete="name" required>
                    <p class="not_valid" id="not_validL"></p>
                    <input type="password" id="passwordL" name="password" placeholder="password" autocomplete="current-password" required>
                    <input type="submit" value="Login">
                </form>
                <h3>Don't have an account? <span id="SwitchToSign">Sign-up</span> now!</h3>
            </div>
        </div>
        <script>
            document.getElementById('loginForm').addEventListener('submit', login);
            
            loginButton = document.body.querySelector('#SwitchToSign');
            function clickS() {
                document.getElementById('loginForm').removeEventListener('submit', login);
                loginButton.removeEventListener('click', clickS);
                showContent("signup-template"); 
            }
            loginButton.addEventListener('click', clickS);
        </script>
    </template>

    <template id="signup-template">
        <div class="content-container" id="signup-container">
            <div class="signup" id="signup">
                <form id="signupForm" method="post" autocomplete="on">
                    <input type="text" id="usernameS" name="username" placeholder="username" autocomplete="name" required>
                    <p class="not_valid" id="not_valid_usernameS"></p>
                    <input type="email" id="emailS" name="email" placeholder="example@example.com" autocomplete="email" required>
                    <p class="not_valid" id="not_valid_emailS"></p>
                    <input type="password" id="passwordS" name="password" placeholder="password" autocomplete="current-password" required>
                    <p class="not_valid" id="not_valid_passwordS"></p>
                    <input type="submit" value="Sign-up">
                </form>
                <h3>Have an account? <span id="SwitchToLog">Log-in</span> now!</h3> 
            </div>
        </div>
        <script>
            document.getElementById('signupForm').addEventListener('submit', signup);

            signupButton = document.body.querySelector('#SwitchToLog');
            function clickL() {
                document.getElementById('signupForm').removeEventListener('submit', signup);
                signupButton.removeEventListener('click', clickL);
                showContent("login-template"); 
            }
            signupButton.addEventListener('click', clickL);
        </script>
    </template>

    <template id="dashboard-template">
        <div class="content-container" id="dashboard-container">
            <section class="dashboard-flights" id="flight-deals">
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
            </section>
            <section class="dashboard-flights" id="my-flights">
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
            </section>
            <section id="search-flights">
                <form id="search-form">
                    <div class="search-container">
                        <input type="text" id="from" placeholder="From (City or Airport)" autocomplete="off">
                        <input type="text" id="to" placeholder="To (City or Airport)" autocomplete="off">
                        <input type="date" id="departure" placeholder="Departure Date">
                        <input type="date" id="return" placeholder="Return Date">
                        <div class="dropdown">
                            <button type="button" id="travelerBtn">1 Adult, Economy</button>
                            <div class="dropdown-content">
                                <div id="dropdown-adults">
                                    <label>Adults</label>
                                    <button type="button" onclick="changeCount('adults', -1)">-</button>
                                    <span id="adultsCount">1</span>
                                    <button type="button" onclick="changeCount('adults', 1)">+</button>
                                </div>
                                <div id="dropdown-children">
                                    <label>Children</label>
                                    <button type="button" onclick="changeCount('children', -1)">-</button>
                                    <span id="childrenCount">0</span>
                                    <button type="button" onclick="changeCount('children', 1)">+</button>
                                </div>
                                <div id="dropdown-class">
                                    <label>Class</label>
                                    <select id="cabinClass">
                                        <option>Economy</option>
                                        <option>Business</option>
                                        <option>First Class</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <button type="submit">Search</button>
                    </div>
                </form>

                <div class="search-results">
                    div
                </div>
            </section>
        </div>

        <script>
            initializeDashboard();
        </script>

        <!--<script>
            logoutButton = document.body.querySelector('#logout');
            function clickLogout() {
                logoutButton.removeEventListener('click', clickLogout);
                showContent(0);
            }
            logoutButton.addEventListener('click', clickLogout);
            startGame();
        </script>-->
    </template>

    <template id="flight-details-template">
        <div id="flight-details-container">
            <section id="general-details">
                <div id="src-dest">
                    <span>Albany</span>
                    <span>Chicago</span>
                </div>
                <div id="other-details">
                    <span>3 adults, 2 children</span>
                    <span class="interpunct"> • </span>
                    <span>Roundtrip</span>
                    <span class="interpunct"> • </span>
                    <span>Economy</span>
                </div>
            </section>
            <section id="seat-selection">
                <div id="plane-container">
                    <div class="plane-title">Flight Seat Selection</div>
                
                    <div class="screen">Cockpit</div>

                    <div id="plane">

                        <!-- Column Labels -->
                         <div class="col-labels">
                            <div class="label">A</div>
                            <div class="label">B</div>
                            <div class="label">C</div>
                            <div class="aisle"></div>
                            <div class="label">D</div>
                            <div class="label">E</div>
                            <div class="label">F</div>
                         </div>

                        <!-- Row Labels (Left) -->
                        <div class="row-labels left">
                            <div class="label">1</div>
                            <div class="label">2</div>
                            <div class="label">3</div>
                            <div class="label">4</div>
                            <div class="label">5</div>
                            <div class="label">6</div>
                            <div class="label">7</div>
                            <div class="label">8</div>
                        </div>
                    
                        <!-- Seats Grid -->
                        <div id="seat-map">
                            <!-- Row 1 -->
                            <div class="seat" data-seat="1A"></div>
                            <div class="seat" data-seat="1B"></div>
                            <div class="seat" data-seat="1C"></div>
                            <div class="aisle"></div>  <!-- Aisle space -->
                            <div class="seat" data-seat="1D"></div>
                            <div class="seat" data-seat="1E"></div>
                            <div class="seat" data-seat="1F"></div>
                        
                            <!-- Row 2 -->
                            <div class="seat" data-seat="2A"></div>
                            <div class="seat occupied" data-seat="2B"></div>  <!-- Occupied -->
                            <div class="seat" data-seat="2C"></div>
                            <div class="aisle"></div>
                            <div class="seat" data-seat="2D"></div>
                            <div class="seat" data-seat="2E"></div>
                            <div class="seat" data-seat="2F"></div>
                        
                            <!-- Row 3 -->
                            <div class="seat" data-seat="3A"></div>
                            <div class="seat" data-seat="3B"></div>
                            <div class="seat" data-seat="3C"></div>
                            <div class="aisle"></div>
                            <div class="seat" data-seat="3D"></div>
                            <div class="seat occupied" data-seat="3E"></div>
                            <div class="seat" data-seat="3F"></div>
                        
                            <!-- Row 4 -->
                            <div class="seat" data-seat="4A"></div>
                            <div class="seat" data-seat="4B"></div>
                            <div class="seat" data-seat="4C"></div>
                            <div class="aisle"></div>
                            <div class="seat" data-seat="4D"></div>
                            <div class="seat" data-seat="4E"></div>
                            <div class="seat" data-seat="4F"></div>

                            <!-- Row 5 -->
                            <div class="seat" data-seat="5A"></div>
                            <div class="seat" data-seat="5B"></div>
                            <div class="seat" data-seat="5C"></div>
                            <div class="aisle"></div>  <!-- Aisle space -->
                            <div class="seat" data-seat="5D"></div>
                            <div class="seat" data-seat="5E"></div>
                            <div class="seat" data-seat="5F"></div>
                        
                            <!-- Row 6 -->
                            <div class="seat" data-seat="6A"></div>
                            <div class="seat occupied" data-seat="6B"></div>  <!-- Occupied -->
                            <div class="seat" data-seat="6C"></div>
                            <div class="aisle"></div>
                            <div class="seat" data-seat="6D"></div>
                            <div class="seat" data-seat="6E"></div>
                            <div class="seat" data-seat="6F"></div>
                        
                            <!-- Row 7 -->
                            <div class="seat" data-seat="7A"></div>
                            <div class="seat" data-seat="7B"></div>
                            <div class="seat" data-seat="7C"></div>
                            <div class="aisle"></div>
                            <div class="seat" data-seat="7D"></div>
                            <div class="seat occupied" data-seat="7E"></div>
                            <div class="seat" data-seat="7F"></div>
                        
                            <!-- Row 8 -->
                            <div class="seat" data-seat="8A"></div>
                            <div class="seat" data-seat="8B"></div>
                            <div class="seat" data-seat="8C"></div>
                            <div class="aisle"></div>
                            <div class="seat" data-seat="8D"></div>
                            <div class="seat" data-seat="8E"></div>
                            <div class="seat" data-seat="8F"></div>
                        </div>
                    
                        <!-- Row Labels (Right) -->
                        <div class="row-labels right">
                            <div class="label">1</div>
                            <div class="label">2</div>
                            <div class="label">3</div>
                            <div class="label">4</div>
                            <div class="label">5</div>
                            <div class="label">6</div>
                            <div class="label">7</div>
                            <div class="label">8</div>
                        </div>
                    </div>
                
                    <button id="confirm-selection">Confirm Selection</button>
                </div>           
            </section>
            <section id="pricing"></section>
            <section id="purchase-button"></section>
        </div>

        <script>
            initializeFlightDetails();
        </script>
    </template>

    <template id="user-info-template">
        <div id="purchased-tickets">
            <section id="ticket-info"></section>
            <section id="reselect-seat-button"></section>
            <section id="cancel-flight-button"></section>
        </div>
    </template>
</body>
</html>