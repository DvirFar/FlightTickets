<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Tickets</title>

    <link rel="icon" type="image/favicon.svg" href="assets/favicon.svg">
    
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/flight-details.css">
    <link rel="stylesheet" href="css/navbar.css">

    <script src="js/DB-API.js" defer></script>
    <script src="js/authServer.js" defer></script>
    <script src="js/dataServer.js" defer></script>
    <script src="js/network.js" defer></script>
    <script src="js/FAJAX.js" defer></script>
    <script src="js/navbar.js" defer></script>
    <script src="js/login.js" defer></script>
    <script src="js/dashboard.js" defer></script>
    <script src="js/flight-details.js" defer></script>
    <script src="js/spa.js" defer></script>
</head>
<body>
    <template id="navbar-template">
        <div id="navbar-container">
            <nav>
                <div id="app-icon">
                    <img src="assets/favicon.svg" alt="logo">
                </div>
                <div class="logout">
                    <button id="navbar-logout">Logout</button>
                </div>
                <div id="user-profile">
                    <div id="user-icon">
                        <img src="assets/images/profile_holder.png" alt="user-profile-image">
                    </div>
                    <h3 id="user-welcome">Welcome, User</h3>
                </div>
            </nav>
        </div>

        <script>
            initializeNavbar();
        </script>
    </template>

    <template id="login-template">
        <div class="content-container" id="login-container">
            <div class="login" id="login">
                <form id="loginForm" method="get" autocomplete="on">
                    <input type="text" id="usernameL" name="username" placeholder="username" autocomplete="name" required>
                    <p class="not_valid" id="not_validL"></p>
                    <input type="password" id="passwordL" name="password" placeholder="password" autocomplete="current-password" required>
                    <input type="submit" value="Login">
                </form>
                <h3>Don't have an account? <span id="SwitchToSign">Sign-up</span> now!</h3>
            </div>
        </div>
        <script>
            if (sessionStorage.getItem('loggedIn')) showContent("dashboard-template");
            else initializeLogin();
        </script>
    </template>

    <template id="signup-template">
        <div class="content-container" id="signup-container">
            <div class="signup" id="signup">
                <form id="signupForm" method="post" autocomplete="on">
                    <input type="text" id="usernameS" name="username" value="dvir" placeholder="username" autocomplete="name" required>
                    <p class="not_valid" id="not_valid_usernameS"></p>
                    <input type="email" id="emailS" name="email" value="dvirfa1@gmail.com" placeholder="example@example.com" autocomplete="email" required>
                    <p class="not_valid" id="not_valid_emailS"></p>
                    <input type="password" id="passwordS" name="password" value="P^assw0rd" placeholder="password" autocomplete="current-password" required>
                    <p class="not_valid" id="not_valid_passwordS"></p>
                    <input type="submit" value="Sign-up">
                </form>
                <h3>Have an account? <span id="SwitchToLog">Log-in</span> now!</h3> 
            </div>
        </div>
        <script>
            //const flightDB = new FlightDBAPI();
            //flightDB.generateFlights();

            if (sessionStorage.getItem('loggedIn')) showContent("dashboard-template");
            else initializeSignup();
        </script>
    </template>

    <template id="dashboard-template">
        <div class="content-container" id="dashboard-container">
            <section class="dashboard-flights" id="flight-deals">
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <button class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </button>
                </div>
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
            </section>
            <section class="dashboard-flights" id="my-flights">
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
                <div class="flight">
                    <div class="flight-origin flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-destination flight-info">
                        <div class="flight-company">
                            <img class="flight-company-logo" src="https://content.skyscnr.com/93c1426f8f7a93ab8191e521aae1d3d5/ai-template-united-thumb-1-xxxhdpi.png?resize=100%3A9999px&quality=100">
                        </div>
                        <div class="flight-details">
                            <span class="flight-date">Fri, Apr 4</span>
                            <span class="flight-src">ALB - ORD with United</span>
                        </div>
                        <div class="flight-type"><span>Direct</span></div>
                    </div>
                    <div class="flight-pricing">
                        <span>from 167$</span>
                        <div class="flight-price-button">
                            <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="1rem" height="1rem" class="arrow-icon">
                                <path fill="white" d="M8.095 4.887a1.496 1.496 0 0 1 2.008 0l5.948 6.397a1 1 0 0 1 .003 1.358l-6.01 6.532a1.427 1.427 0 0 1-1.949-.138 1.57 1.57 0 0 1-.103-1.997l4.638-5.078-4.535-4.97a1.72 1.72 0 0 1 0-2.104"></path>
                            </svg></span>
                        </div>
                    </div>
                </div>
            </section>
            <!--<section id="search-flights">
                <form id="search-form">
                    <div class="search-container">
                        <input type="text" id="from" placeholder="From (City or Airport)" autocomplete="off">
                        <input type="text" id="to" placeholder="To (City or Airport)" autocomplete="off">
                        <input type="date" id="departure" placeholder="Departure Date">
                        <input type="date" id="return" placeholder="Return Date">
                        <div class="dropdown">
                            <button type="button" id="travelerBtn">1 Adult, Economy</button>
                            <div class="dropdown-content">
                                <div id="dropdown-adults">
                                    <label>Adults</label>
                                    <button type="button" onclick="changeCount('adults', -1)">-</button>
                                    <span id="adultsCount">1</span>
                                    <button type="button" onclick="changeCount('adults', 1)">+</button>
                                </div>
                                <div id="dropdown-children">
                                    <label>Children</label>
                                    <button type="button" onclick="changeCount('children', -1)">-</button>
                                    <span id="childrenCount">0</span>
                                    <button type="button" onclick="changeCount('children', 1)">+</button>
                                </div>
                                <div id="dropdown-class">
                                    <label>Class</label>
                                    <select id="cabinClass">
                                        <option>Economy</option>
                                        <option>Business</option>
                                        <option>First Class</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <button type="submit">Search</button>
                    </div>
                </form>

                <div class="search-results">
                    div
                </div>
            </section>-->
        </div>

        <script>
            initializeDashboard();
        </script>

        <!--<script>
            logoutButton = document.body.querySelector('#logout');
            function clickLogout() {
                logoutButton.removeEventListener('click', clickLogout);
                showContent(0);
            }
            logoutButton.addEventListener('click', clickLogout);
            startGame();
        </script>-->
    </template>

    <template id="flight-details-template">
        <div id="flight-details-container">
            <section id="general-details">
                <div id="src-dest">
                    <span id="flight-src"></span>
                    <span>to</span>
                    <span id="flight-dest"></span>
                </div>
                <div id="dates">
                    <span>Departs: </span>
                    <span id="flight-departure"></span>
                    <span>, Lands: </span>
                    <span id="flight-arrival"></span>
                </div>
                <div id="other-details">
                    <span id="flight-travelers">3 adults, 2 children</span>
                    <span> • </span>
                    <span id="flight-type">Roundtrip</span>
                    <span> • </span>
                    <span id="flight-class">Economy</span>
                </div>
            </section>
            <section id="seat-selection">
                <div id="plane-container">
                    <div id="plane-title">
                        <span>Flight ID.</span>
                        <span id="flight-id"></span>
                        <span>: Seat Selection</span>
                    </div>
                
                    <div id="screen">Cockpit</div>

                    <div id="plane"></div>
                
                    <button id="confirm-selection">Confirm Selection</button>
                </div>           
            </section>
        </div>

        <script>
            initializeFlightDetails();
        </script>
    </template>

    <template id="user-info-template">
        <div id="purchased-tickets">
            <div class="ticket">
                <section id="ticket-info"></section>
                <section id="reselect-seat-button"></section>
                <section id="cancel-flight-button"></section>
            </div>
        </div>
    </template>
</body>
</html>